// Toast Integration Styles - Vue Sonner Integration
// Modern CSS Architecture (2025) - Zero !important Policy
// Centralized styles for toast integration with Select Element mode

@use '../base/variables' as *;

/* ==========================================================================
   Toast Integration - Vue Sonner Compatibility (Shadow DOM)
   ========================================================================== */

// CSS custom properties for toast styling consistency
:root {
  --toast-cursor: auto;
  --toast-z-index: #{$z-overlay};
}

// Vue Sonner toast element cursor and interaction overrides
// High specificity without !important
[data-sonner-toaster][data-sonner-toaster],
[data-sonner-toast][data-sonner-toast],
.sonner-toaster.sonner-toaster,
.sonner-toast.sonner-toast,
[data-testid="toaster"][data-testid="toaster"],
li[data-sonner-toast][data-sonner-toast],
div[data-sonner-toast][data-sonner-toast] {
  cursor: var(--toast-cursor);
  pointer-events: auto;
  contain: layout style;

  // Apply to all child elements
  * {
    cursor: var(--toast-cursor);
    pointer-events: auto;
  }
}

// Content app container cursor protection (Shadow DOM)
.ti-content-app-container {
  cursor: var(--toast-cursor);
  contain: layout style;

  * {
    cursor: var(--toast-cursor);
  }
}

/* ==========================================================================
   Main DOM Toast Integration (Critical for select-element mode)
   ========================================================================== */

// Toast elements exception during Select Element mode
// Ensure toasts remain interactive when crosshair cursor is active
html[data-translate-it-select-mode="true"] {
  [data-sonner-toaster][data-sonner-toaster],
  [data-sonner-toast][data-sonner-toast],
  .sonner-toaster.sonner-toaster,
  .sonner-toast.sonner-toast,
  .content-app-container.content-app-container {
    cursor: var(--toast-cursor);
    pointer-events: auto;
    position: relative;
    z-index: var(--toast-z-index);
    contain: layout style;

    // Ensure all child elements are interactive
    * {
      cursor: var(--toast-cursor);
      pointer-events: auto;
    }
  }
}

/* ==========================================================================
   Toast Content Layout - Select Element Notifications
   ========================================================================== */

// Vue Sonner toast layout improvements for action buttons
[data-sonner-toast] {
  // Ensure proper height and prevent overflow issues
  min-height: auto;
  height: auto;
  max-height: none;

  // Direct child content container
  > div[data-content] {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 12px;
    width: 100%;

    // Text content (title/description) container
    > div {
      flex: 1;
      text-align: left;
      direction: ltr;
      white-space: normal;
      word-wrap: break-word;
      line-height: 1.4;
      align-self: flex-start;
    }

    // Title specific styling
    [data-title] {
      white-space: normal;
      word-wrap: break-word;
      line-height: 1.4;
      display: block;
    }

    // Description specific styling
    [data-description] {
      white-space: normal;
      word-wrap: break-word;
      line-height: 1.4;
      display: block;
    }
  }

  // Action button styling
  [data-button],
  > button {
    flex-shrink: 0;
    margin-left: auto;
    white-space: nowrap;
    align-self: flex-start;
  }
}