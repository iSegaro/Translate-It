@use '../base/variables' as *;
@use '../base/mixins' as *;

// Popup component styles

// Base styles for extension popup - ONLY apply in popup context
body.popup-context {
  margin: 0;
  padding: 0;
  width: $popup-width !important;
  min-height: 350px;
  max-height: $popup-max-height;
  height: auto;
  font-family: $font-family-base;
  background-color: var(--bg-color);
  color: var(--text-color);
  font-size: $font-size-md;
  overflow: hidden;
  transition: height 0.6s cubic-bezier(0.4, 0.0, 0.2, 1);
}

// Popup container
.ti-popup-container {
  width: 100%;
  min-height: 350px;
  height: auto;
  background: var(--bg-color);
  @include shadow-md;
  border-radius: $border-radius-md;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

// Header toolbar
.ti-header-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: $spacing-sm $spacing-base;
  background-color: var(--header-bg-color);
  border-bottom: $border-width $border-style var(--header-border-color);
  flex-direction: row-reverse;
}

.ti-toolbar-right-group {
  display: flex;
  gap: $spacing-sm;
  align-items: center;
}

.ti-toolbar-left-group {
  display: flex;
  gap: $spacing-sm;
}

// Icon styles with proper specificity
body.popup-context .ti-toolbar-icon {
  width: 20px;
  height: 20px;
  cursor: pointer;
  opacity: var(--icon-opacity);
  @include transition-fast(opacity, filter, background-color);
  filter: var(--icon-filter);

  &:hover {
    opacity: var(--icon-hover-opacity);
  }
}

// Revert icon animation
.ti-revert-icon {
  @include transition-slow(transform, opacity, filter);

  &:hover {
    transform: rotate(360deg);
  }
}

// Textarea and result styles
.ti-result {
  background-color: var(--bg-result-color);
  white-space: normal !important;
  word-wrap: break-word;
  overflow-y: auto;
}

// Loading spinner
.ti-spinner-overlay {
  position: relative;
  width: 100%;
  min-height: 60px;
}

.ti-spinner-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.ti-spinner {
  width: 28px;
  height: 28px;
  border: 3px solid var(--header-border-color, #dee2e6);
  border-top: 3px solid #007bff;
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
  margin: auto;
}

// Fade in animation
.ti-result.ti-fade-in {
  animation: fadeIn 0.4s ease-in-out;
}


// Language controls in popup
.ti-language-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
}